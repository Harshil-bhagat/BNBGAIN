{"ast":null,"code":"var _jsxFileName = \"/home/aasdia/Documents/GainBNB/BNBGain/src/Components/TopNavBar.js\";\nimport React from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport './comp.css';\nimport getWeb3 from \"../getWeb3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class TopNavBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getWeb = async () => {\n      try {\n        // Get network provider and web3 instance.\n        console.log(\"inside getweb\");\n        const web3 = await getWeb3(); // Use web3 to get the user's accounts.\n\n        const accounts = await web3.eth.getAccounts();\n        let account = accounts[0]; //Check Account Balance\n\n        let accbalance = await web3.eth.getBalance(accounts[0]);\n        accbalance = web3.utils.fromWei(accbalance); // Get the contract instance.\n\n        const networkId = await web3.eth.net.getId();\n        const SendMoneyContract = new web3.eth.Contract(this.ABI, this.ContractAddress);\n        SendMoneyContract.options.address = this.ContractAddress;\n        let conBalance = await web3.eth.getBalance(this.ContractAddress);\n        conBalance = web3.utils.fromWei(conBalance); // let sendToContract = await instance.methods.receiveMoney().send({from:account,to:this.ContractAddress, value:web3.utils.toWei('5', 'ether')});\n        // console.log(sendToContract);\n        // let value = await web3.utils.toWei('1', 'ether');\n        // const receipt = await instance.methods.withdrawMoney(value).send({from:account});\n\n        this.setState({\n          web3,\n          account,\n          accountBalance: accbalance,\n          contract: this.ContractAddress,\n          contractBalance: conBalance,\n          connected: true\n        });\n      } catch (error) {\n        // Catch any errors for any of the above operations.\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(Navbar, {\n        id: \"topnav\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          id: \"btnConnect\",\n          onClick: getWeb(),\n          children: \"Connect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/aasdia/Documents/GainBNB/BNBGain/src/Components/TopNavBar.js"],"names":["React","Navbar","Button","getWeb3","TopNavBar","Component","getWeb","console","log","web3","accounts","eth","getAccounts","account","accbalance","getBalance","utils","fromWei","networkId","net","getId","SendMoneyContract","Contract","ABI","ContractAddress","options","address","conBalance","setState","accountBalance","contract","contractBalance","connected","error","alert","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,EAAgBC,MAAhB,QAA6B,iBAA7B;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAIA,OAAO,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;AAAA;AAAA;;AAAA,SAE3CC,MAF2C,GAElC,YAAY;AACjB,UAAI;AACF;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,cAAMC,IAAI,GAAG,MAAMN,OAAO,EAA1B,CAHE,CAIF;;AACA,cAAMO,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAL,CAASC,WAAT,EAAvB;AACA,YAAIC,OAAO,GAAGH,QAAQ,CAAC,CAAD,CAAtB,CANE,CAQF;;AACA,YAAII,UAAU,GAAG,MAAML,IAAI,CAACE,GAAL,CAASI,UAAT,CAAoBL,QAAQ,CAAC,CAAD,CAA5B,CAAvB;AACAI,QAAAA,UAAU,GAAGL,IAAI,CAACO,KAAL,CAAWC,OAAX,CAAmBH,UAAnB,CAAb,CAVE,CAYF;;AACA,cAAMI,SAAS,GAAG,MAAMT,IAAI,CAACE,GAAL,CAASQ,GAAT,CAAaC,KAAb,EAAxB;AACA,cAAMC,iBAAiB,GAAG,IAAIZ,IAAI,CAACE,GAAL,CAASW,QAAb,CAAsB,KAAKC,GAA3B,EAA+B,KAAKC,eAApC,CAA1B;AACAH,QAAAA,iBAAiB,CAACI,OAAlB,CAA0BC,OAA1B,GAAoC,KAAKF,eAAzC;AACA,YAAIG,UAAU,GAAG,MAAMlB,IAAI,CAACE,GAAL,CAASI,UAAT,CAAoB,KAAKS,eAAzB,CAAvB;AACAG,QAAAA,UAAU,GAAElB,IAAI,CAACO,KAAL,CAAWC,OAAX,CAAmBU,UAAnB,CAAZ,CAjBE,CAkBF;AACA;AACA;AACA;;AACA,aAAKC,QAAL,CAAc;AAAEnB,UAAAA,IAAF;AAAQI,UAAAA,OAAR;AAAiBgB,UAAAA,cAAc,EAAEf,UAAjC;AAA6CgB,UAAAA,QAAQ,EAAC,KAAKN,eAA3D;AAA4EO,UAAAA,eAAe,EAAEJ,UAA7F;AAAyGK,UAAAA,SAAS,EAAE;AAApH,SAAd;AACD,OAvBD,CAuBE,OAAOC,KAAP,EAAc;AACd;AACAC,QAAAA,KAAK,CACF,wEADE,CAAL;AAGA3B,QAAAA,OAAO,CAAC0B,KAAR,CAAcA,KAAd;AACD;AACF,KAjCwC;AAAA;;AAkC/CE,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,EAAE,EAAC,QAAX;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,iBAAhB;AAAkC,UAAA,EAAE,EAAC,YAArC;AAAkD,UAAA,OAAO,EAAE7B,MAAM,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAOH;;AA1C8C","sourcesContent":["import React from 'react';\nimport {Navbar, Button} from 'react-bootstrap';\nimport './comp.css';\nimport getWeb3 from \"../getWeb3\";\n\n\n\nexport class TopNavBar extends React.Component {\n\n    getWeb = async () => {\n        try {\n          // Get network provider and web3 instance.\n          console.log(\"inside getweb\");\n          const web3 = await getWeb3();\n          // Use web3 to get the user's accounts.\n          const accounts = await web3.eth.getAccounts();\n          let account = accounts[0];\n    \n          //Check Account Balance\n          let accbalance = await web3.eth.getBalance(accounts[0]);\n          accbalance = web3.utils.fromWei(accbalance);\n          \n          // Get the contract instance.\n          const networkId = await web3.eth.net.getId();\n          const SendMoneyContract = new web3.eth.Contract(this.ABI,this.ContractAddress);\n          SendMoneyContract.options.address = this.ContractAddress;\n          let conBalance = await web3.eth.getBalance(this.ContractAddress);\n          conBalance= web3.utils.fromWei(conBalance);\n          // let sendToContract = await instance.methods.receiveMoney().send({from:account,to:this.ContractAddress, value:web3.utils.toWei('5', 'ether')});\n          // console.log(sendToContract);\n          // let value = await web3.utils.toWei('1', 'ether');\n          // const receipt = await instance.methods.withdrawMoney(value).send({from:account});\n          this.setState({ web3, account, accountBalance: accbalance, contract:this.ContractAddress, contractBalance: conBalance, connected: true });\n        } catch (error) {\n          // Catch any errors for any of the above operations.\n          alert(\n            `Failed to load web3, accounts, or contract. Check console for details.`,\n          );\n          console.error(error);\n        }\n      };\nrender(){\n    return (\n        <div className=\"navbar\">\n            <Navbar id=\"topnav\">\n                <Button variant=\"outline-primary\" id=\"btnConnect\" onClick={getWeb()}>Connect</Button>\n            </Navbar>\n        </div>\n    )\n}\n}"]},"metadata":{},"sourceType":"module"}